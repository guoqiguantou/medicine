{"version":3,"sources":["webpack:///./src/pages/findAunt/index.tsx","webpack:///./src/pages/findAunt/index.less","webpack:///./src/pages/findAunt/index.tsx?49b6"],"names":["FindAunt","findAunt","props","dispatch","loading","JobIntensionsList","useState","userId","setUserId","addSource","setAddSource","useEffect","optionsSync","Taro","scene","console","s","decodeURIComponent","p","parseQuery","paramId","type","payload","id","res","content","companyId","itemId","name","phone","formItem","setFormItem","submit","tip","params","addUserId","handleChange","item","classnames","checkbox","checkboxActive"],"mappings":"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","file":"pages/findAunt/index.js","sourcesContent":["import React, { FC, useEffect, useState } from 'react';\nimport { Button, CoverView, Text, View } from '@tarojs/components';\nimport Card from '@/components/Card';\nimport classnames from 'classnames';\nimport tip from '@/utils/tip';\nimport './index.less';\nimport { connect } from 'react-redux';\nimport { AtInput } from 'taro-ui';\nimport Taro from '@tarojs/taro';\nimport { parseQuery } from '@/utils/stringUtil';\n\ninterface FindAuntProps {\n  findAunt,\n  dispatch,\n  loading,\n}\n\ninterface convertMap2ListType {\n  name: string,\n  id: string\n}\n\ninterface formItemType {\n  itemId: string,\n  name: '',\n  phone: ''\n}\n\n\n/**第二步求职信息 */\nconst FindAunt: FC<FindAuntProps> = (props) => {\n\n  const { findAunt, dispatch, loading } = props;\n\n  const { JobIntensionsList } = findAunt;\n  const [userId, setUserId] = useState<string>('');\n  const [addSource, setAddSource] = useState<string>('');\n  useEffect(() => {\n    const optionsSync = Taro.getCurrentInstance().router!.params;//获取页面参数\n    const { scene } = optionsSync;\n    console.log(optionsSync, '=========进入小程序')\n    let paramId: string;//进入页面传递参数id=6804116092485632\n    if (scene) {\n      //扫小程序码进入\n      const s = decodeURIComponent(scene)\n      const p: any = parseQuery(s);\n      paramId = p.id;\n    } else {\n      paramId = optionsSync.id;\n    }\n    if (paramId) {\n      props.dispatch({ type: 'common/contentMapping', payload: { id: paramId } }).then((res) => {\n        const { content } = res || {};\n        const p: any = parseQuery(content);\n        setUserId(p.userId);\n        setAddSource(p.addSource)\n        dispatch({ type: 'findAunt/queryJobIntensionsListDictionary', payload: { companyId: p.companyId } });\n      });\n    }\n  }, []);\n\n  let [formItem, setFormItem] = useState<formItemType>({\n    itemId: '',\n    name: '',\n    phone: '',\n  });\n\n  const submit = () => {\n    const { name, phone, itemId } = formItem;\n    if (!itemId) {\n      tip.showTips('请选择求职工种');\n      return;\n    }\n\n    if(!/^1\\d{10}$/.test(phone)){\n      tip.showTips('请输入正确的手机号码');\n      return;\n    }\n    if (!name) {\n      tip.showTips('请输入姓名');\n      return;\n    }\n    if (!phone) {\n      tip.showTips('请输入手机号');\n      return;\n    }\n\n    const params = {\n      itemId: itemId,\n      name, phone,\n      addUserId: userId,\n      addSource: addSource\n    };\n\n    dispatch({\n      type: 'findAunt/auntPossibleAdd', payload: {\n        ...params,\n      },\n    }).then((res) => {\n      if (res) {\n        setFormItem({ ...formItem, phone: '', name: '' });\n        tip.showTips('操作成功');\n      }\n    });\n  };\n\n\n  const handleChange = (name, value) => {\n    setFormItem({ ...formItem, [name]: value });\n  };\n\n\n  return (\n    <View className='index'>\n      <View className=\"findAuntIndex \">\n        <View className=\"jobInfo fixedView\">\n          <Card title=\"求职工种\" height={200}>\n            <View className='at-row at-row--wrap checkboxView'>\n              {JobIntensionsList.map((item: convertMap2ListType) => {\n                return <View className='at-col at-col-4' key={item.id}><View\n                  className={classnames({\n                    checkbox: true,\n                    checkboxActive: formItem.itemId === item.id,\n                  })}\n                  onClick={() => {\n                    handleChange('itemId', item.id);\n                  }}><Text>{item.name}</Text></View></View>;\n              })}\n            </View>\n          </Card>\n          <AtInput\n            name='name'\n            title='姓名'\n            type='text'\n            placeholder='请输入姓名'\n            value={formItem.name}\n            onChange={(value) => {\n              handleChange('name', value);\n            }}\n          />\n          <AtInput\n            name='phone'\n            title='手机号'\n            type='number'\n            placeholder='请输入手机号'\n            value={formItem.phone}\n            onChange={(value) => {\n              handleChange('phone', value);\n            }}\n          />\n\n\n        </View>\n        <CoverView className=\"fixedBtnView\">\n          <Button className=\"fixedBtn\" loading={loading} onClick={() => {\n            submit();\n          }}>提交</Button>\n        </CoverView>\n      </View>\n    </View>\n  );\n};\nexport default connect(({ findAunt, dispatch, loading }) => ({\n  findAunt,\n  dispatch,\n  loading: loading.effects['findAunt/auntPossibleAdd'],\n}))(FindAunt);\n\n","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/mini-runner/node_modules/babel-loader/lib/index.js!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"招聘阿姨\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/findAunt/index', {}, config || {}))\n\n"],"sourceRoot":""}