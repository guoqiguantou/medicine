{"version":3,"sources":["webpack:///./src/pages/index/navigation.tsx","webpack:///./src/pages/index/navigation.tsx?7228","webpack:///./src/wx/openLocation.js"],"names":["Navigation","connect","table","keywords","Taro","params","type","payload","OpenLocation","pageNum","pageSize","data","item","Component","ENV","getEnv","window","wx","checkJsApi","jsApiList","success","res","openLocation","latitude","longitude","address","name","scale","fail"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAcMA,U,WAHLC,oEAAO,CAAC;AAAA,MAAGC,KAAH;AAAA,SAAgB;AACvBA,SAAK,EAALA;AADuB,GAAhB;AAAD,E;;;;;;;;;;;;;;;;;;0VASM,sBAAiB;AAAA,UACnBC,QADmB,GACNC,mDAAI,CAAJA,4BADM,MACNA,CADM;;AAE3B,UAAIC,MAAM;AAERF,gBAAQ,EAAEA;AAFF,QAAV;;AAIA,aAAO,qBAAoB;AACzBG,YAAI,EADqB;AACMC,eAAO,EAAEF;AADf,OAApB,CAAP;;;4VAQY,gBAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACAG,+EAAY,CAAZA,IAAY,CAAZA;;;;;;;;wCA1BkB;AAClB,qBAAe;AAAEC,eAAO,EAAT;AAAcC,gBAAQ,EAAE;AAAxB,OAAf;AACD;;;wCAYmB;AAClB;AACD;;;6BAYQ;AAAA;AAAA;;AAAA,UACDR,KADC,GACS,KADT,KACS,CADT;AAEP,UAAIS,IAAI,GAAG,MAAK,KAAL,aAAK,UAAL,qCAAK,CAAL,qFAAX;AACA,0BACE;AAAM,iBAAS,EAAC;AAAhB,sBACE;AAAQ,aAAK,EAAC;AAAd,QADF,eAEE;AAAM,iBAAS,EAAC;AAAhB,sBACE;AACE,YAAI,EADN;AAEE,gBAAQ,EAAE,KAFZ;AAGE,aAAK,EAAE,oBAAS;AAAE,gBAAI,CAAJ;AAAkB;AAHtC,sBAKE;AAAQ,iBAAS,EAAC;AAAlB,SAEI,IAAI,CAAJ,IAAS,uBAAiB;AACxB,4BAAO;AAAY,aAAG,EAAf;AAAwB,eAAK,EAAEC,IAAI,CAAnC;AAA0C,cAAI,EAAEA,IAAI,CAApD;AAA8D,iBAAO,EAAE,mBAAM;AAAE,kBAAI,CAAJ;AAA/E;AAAyG,eAAK,EAAC;AAA/G,UAAP;AAZd,OAWY,CAFJ,CALF,CADF,CAFF,CADF;AAoBD;;;;EArDsBC,+C;AAwDzB,qE;;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAkD;AACuE;AACzH,cAAc;;;AAGd,gBAAgB,wEAAgB,CAAC,sIAAS,8BAA8B,cAAc;;;;;;;;;;;;;;;ACLtF;AAAA;AAAA;AAEA,IAAMC,GAAG,GAAGV,mDAAI,CAACW,MAAL,EAAZ;AAGe,mEAAUH,IAAV,EAAgB;AAC3B,MAAIE,GAAG,KAAK,KAAZ,EAAmB;AACfE,UAAM,CAACC,EAAP,CAAUC,UAAV,CAAqB;AACjBC,eAAS,EAAE,CAAC,cAAD,CADM;AACY;AAC7BC,aAAO,EAAE,iBAAUC,GAAV,EAAe;AACpBL,cAAM,CAACC,EAAP,CAAUK,YAAV,CAAuB;AACnBC,kBAAQ,EAAEX,IAAI,CAACW,QADI;AAEnBC,mBAAS,EAAEZ,IAAI,CAACY,SAFG;AAGnBC,iBAAO,EAAEb,IAAI,CAACa,OAHK;AAInBC,cAAI,EAAEd,IAAI,CAACc,IAJQ;AAKnBC,eAAK,EAAE;AALY,SAAvB;AAOH,OAVgB;AAWjBC,UAAI,EAAE,cAACP,GAAD,EAAS,CACd;AAZgB,KAArB;AAcH,GAfD,MAeO,IAAIP,GAAG,KAAK,OAAZ,EAAqB;AACxBV,uDAAI,CAACkB,YAAL,CAAkB;AACdC,cAAQ,EAAEX,IAAI,CAACW,QADD;AAEdC,eAAS,EAAEZ,IAAI,CAACY,SAFF;AAGdC,aAAO,EAAEb,IAAI,CAACa,OAHA;AAIdC,UAAI,EAAEd,IAAI,CAACc,IAJG;AAKdC,WAAK,EAAE;AALO,KAAlB;AAOH;AAGJ,C","file":"pages/index/navigation.js","sourcesContent":["import React, { Component } from 'react'\r\nimport Taro from \"@tarojs/taro\"\r\nimport { AtList, AtListItem } from \"taro-ui\"\r\nimport { connect } from 'react-redux'\r\nimport { View } from '@tarojs/components'\r\nimport List from '@/components/List'\r\nimport NavBar from '@/components/NavBar'\r\nimport OpenLocation from '@/wx/openLocation'\r\nimport './index.less'\r\n\r\ninterface NavigationProps {\r\n  dispatch?,\r\n  table,\r\n}\r\n\r\ninterface NavigationState {\r\n\r\n}\r\n\r\n@connect(({ table }) => ({\r\n  table\r\n}))\r\nclass Navigation extends Component<NavigationProps, NavigationState> {\r\n  child\r\n  componentDidMount() {\r\n    this.fetchData({ pageNum: 0, pageSize: 20 },)\r\n  }\r\n\r\n  fetchData = (pagination,) => {\r\n    const { keywords } = Taro.getCurrentInstance().router!.params;\r\n    let params = {\r\n      ...pagination,\r\n      keywords: keywords,\r\n    }\r\n    return this.props.dispatch({\r\n      type: 'table/getGeoPlaceList', payload: params,\r\n    })\r\n  }\r\n  onPullDownRefresh() {\r\n    this.child.PullDownRefresh()\r\n  }\r\n\r\n  handleClick = (item) => {\r\n    // Taro.openLocation({\r\n    //   latitude: item.latitude,\r\n    //   longitude: item.longitude,\r\n    //   address: item.address,\r\n    //   name: item.name,\r\n    //   scale: 18\r\n    // })\r\n    OpenLocation(item)\r\n  }\r\n  render() {\r\n    let { table } = this.props;\r\n    let data = table?.nav_list?.data || []\r\n    return (\r\n      <View className='navigation ListPage'>\r\n        <NavBar title=\"选择地址\" />\r\n        <View className=\"navigationView\">\r\n          <List\r\n            name='nav_list'\r\n            onChange={this.fetchData}\r\n            onRef={(ref) => { this.child = ref }}\r\n          >\r\n            <AtList className=\"navList\">\r\n              {\r\n                data.map((item, index) => {\r\n                  return <AtListItem key={index} title={item.name} note={item.address} onClick={() => { this.handleClick(item) }} arrow='right' />\r\n                })\r\n              }\r\n            </AtList>\r\n          </List>\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Navigation\r\n\r\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/mini-runner/node_modules/babel-loader/lib/index.js!./navigation.tsx\"\nvar config = {\"enablePullDownRefresh\":true,\"onReachBottomDistance\":50,\"navigationBarTitleText\":\"选择地址\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/index/navigation', {}, config || {}))\n\n","import Taro from '@tarojs/taro';\n\nconst ENV = Taro.getEnv();\n\n\nexport default function (item) {\n    if (ENV === 'WEB') {\n        window.wx.checkJsApi({\n            jsApiList: ['openLocation'], // 需要检测的JS接口列表，所有JS接口列表见附录2,\n            success: function (res) {\n                window.wx.openLocation({\n                    latitude: item.latitude,\n                    longitude: item.longitude,\n                    address: item.address,\n                    name: item.name,\n                    scale: 18\n                });\n            },\n            fail: (res) => {\n            }\n        });\n    } else if (ENV === 'WEAPP') {\n        Taro.openLocation({\n            latitude: item.latitude,\n            longitude: item.longitude,\n            address: item.address,\n            name: item.name,\n            scale: 18\n        })\n    }\n\n\n}\n"],"sourceRoot":""}